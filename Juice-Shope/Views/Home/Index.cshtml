@{
    ViewData["Title"] = "Home Page";
}

<nav class="navbar navbar-dark bg-dark">
    <h1> <span class="navbar-brand m-md-0 h1">Juice Shope</span></h1>
</nav>
<div class="row">

    <!--first column-->
    <div class="col-3">
        <div class="container-fluid">
            <div class="list-group-item list-group-item-action active">item</div>
            <div class="panel-body bg-dark" style="color:white" ;>
                <form class="frm-project">
                    <div class="frm-group">
                        <div>
                            <img src="~/juice-hotos/apple.jpg" id="apple" class="photo" width="100" height="100" data-toggle="modal" data-target="#exampleModal" />
                            <b>Apple Juice</b>
                        </div>
                        <div>
                            <img src="~/juice-hotos/mango.jpg" id="mango" class="photo" width="100" height="100" data-toggle="modal" data-target="#exampleModal" />
                            <b>Mango Shake</b>
                        </div>
                        <div>
                            <img src="~/juice-hotos/orange.jpg" id="orange" class="photo" width="100" height="100" data-toggle="modal" data-target="#exampleModal" />
                            <b>Orange Juice</b>
                        </div>
                        <div>
                            <img src="~/juice-hotos/peach.jpg" id="peach" class="photo" width="100" height="100" data-toggle="modal" data-target="#exampleModal" />
                            <b>Peach Juice</b>
                        </div>
                        <div>
                            <img src="~/juice-hotos/stobarry (2).jpg" id="stawbarry" class="photo" width="100" height="100" data-toggle="modal" data-target="#exampleModal" />
                            <b>Stawbarry</b>
                        </div>
                    </div>
                </form>

            </div>
        </div>
    </div>
    <!--2nd column-->
    <div class="col-6">
        <div class="container-fluid">
            <div class="list-group-item list-group-item-action active "><b>Add Products</b></div>
            <table id="tbl-item" class="table table-bordered table-dark" cellpadding="0" collspacing="0" align="center">
                <thead>
                    <tr>
                        <th>
                            Delete
                        </th>
                        <th>
                            item
                        </th>
                        <th>
                            price
                        </th>
                        <th>
                            Quantity
                        </th>
                        <th>
                            Total
                        </th>

                    </tr>
                    
                </thead>
                <tbody id="tb-item">
                </tbody>
            </table>
            


        </div>
    </div>
    <div class="col-3">
        <div class="container-fluid">
            <div class="list-group-item list-group-item-action active">Bill</div>
            <div>
                <labl>Total</labl>
                <input type="number" id="total" name=" total" placeholder="0" style="color:white; background-color:black; font-size:30px;" />
            </div>
            <div>
                <button id="reset" onclick="reset">Reset</button>
            </div>
        </div>

    </div>
</div>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Product</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <lable>Quantity</lable>
                <input type="number" id="qty" name="qty" value="1" />
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-info" data-dismiss="modal" onclick="add()">Add</button>

            </div>
        </div>
    </div>
</div>
@section Scripts
{
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/jquery/dist/jquery.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

    <script type="text/javascript">


        var tot = 0;
        var total = 0;
        var price = 0;
        var item = null;

        var a = ""

        $("img").on("click", function () {

            a = $(this).prop('id')

        });

        function add() {
            if (a == "apple") {
                item = "Apple Juice";
                price = 120;
            }
            else if (a == "mango") {
                item = "Mango Shake";
                price = 100;
            }
            else if (a == "orange") {
                item = "Orange Juice";
                price = 120;
            }
            else if (a == "peach") {
                item = "Peach Juice";
                price = 80;
            }
            else if (a == "stawbarry") {
                item = "Stawbarry Shake";
                price = 150;
            }


            var qty = $("#qty").val();
            tot = qty * price;

            var table =
                "<tr>" +
                "<td><button name='record' class='btn btn-warning' onclick='deleterow(this)'>Delete</button></td>" +
                "<td>" + item + "</td>" +
                "<td>" + price + "</td>" +
                "<td>" + qty + "</td>" +
                "<td>" + tot + "</td>" +
                "</tr>";
            total += Number(tot);
            $("#total").val(total);
            $(" #tbl-item #tb-item").append(table);
           // $("#exampleModal").modal("hide");
        }
        function deleterow(e) {
            total_cost = parseInt($(e).parent().parent().find('td:last').text(), 10);
            total -= total_cost;
            $('#total').val(total);
            $(e).parent().parent().remove();
        }
    </script>
}